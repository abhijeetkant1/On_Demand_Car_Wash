package com.cg.controller;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.DeleteMapping;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.PutMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

import com.cg.models.Washers;
import com.cg.services.WasherService;

import io.swagger.annotations.ApiOperation;

@RestController
@RequestMapping("/washer")
public class WasherController
{
    @Autowired
	private WasherService service;
    
    @PostMapping("/addwasher")
    @ApiOperation(value = "To Add washer Details")
    public String saveUser(@RequestBody Washers washer) {
    	washer.setId(service.getSequenceNumber(Washers.SEQUENCE_NAME));
    	 service.save(washer);
    	 return "you Are working With A1A Carwash";
    }

    @PutMapping("/account/update")
    @ApiOperation(value = "To Update washer Details")
    public String updateRegistrationDetails(@RequestBody Washers user, @RequestParam int id) {
    	 service.save(user);
    	 return "update of details Successfull";

    }

    @GetMapping("/allwasher")
    @ApiOperation(value = "To Get all washer Details")
    public List<Washers> findAll(){
    	return service.getWashers();
    }

    @DeleteMapping("/account/delete")
    @ApiOperation(value = "To delete washer ")
    public String deletewasher( @RequestParam int id ) {
    	 this.service.deleteWasher(id);
    	 return "Account Delete Happy to work With you";
    }
}
